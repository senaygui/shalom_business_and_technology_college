<%provide(:title, "Academic Calendar")%>
<section class="content-header">
  <div class="container-fluid">
    <div class="row mb-2">
      <div class="col-sm-6">
        <h1>Academic Calendar</h1>
      </div>
      <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active">Academic Calendar</li>
        </ol>
      </div>
    </div>
  </div><!-- /.container-fluid -->
</section>

<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-md-4">

        <!-- Profile Image -->
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">My Academic Calendar</h3>
          </div>
          <div class="card-body box-profile">
            <ul class="list-group list-group-unbordered mb-3">
              <li class="list-group-item mx-3">
                <b>Calender Title</b> <a class="text-muted float-right"><%= @academic_calendar.calender_year%></a>
              </li>
              <li class="list-group-item mx-3">
                <b>Calender Year In GC</b> <a class="text-muted float-right"><%= @academic_calendar.calender_year_in_gc%></a>
              </li>
              <li class="list-group-item mx-3">
                <b>Calender Year In EC</b> <a class="text-muted float-right"><%= @academic_calendar.calender_year_in_ec%></a>
              </li>
              <li class="list-group-item mx-3">
               <b>Starting Date</b> <a class="text-muted float-right"><%= @academic_calendar.starting_date.strftime("%b %d, %Y")%></a>
              </li>
              <li class="list-group-item mx-3">
                <b>Ending Date</b> <a class="text-muted float-right"><%= @academic_calendar.ending_date.strftime("%b %d, %Y")%></a>
              </li>
            </ul>


          </div>
          <!-- /.card-body -->
        </div>
        
        
      </div>
      <div class="col-12 col-md-8">
      	<% @academic_calendar.semesters.order("semester ASC").each do |semester|%>
	       	<div class="card card-primary">
		          <div class="card-header">
		            <h3 class="card-title">Semester <%= semester.semester %> </h3>
		          </div>
		          <div class="card-body">
		          	<table id='ordersTable' class='table table-striped table-sm'>
								  <thead>
								    <tr>
								      <th>Activity</th>
								      <th>Semester</th>
								      <th>Starting date</th>
								      <th>Ending date</th>
								    </tr>
								  </thead>

								  <tbody>
								    <% @academic_calendar.activities.where(semester: semester.semester).each do |ac|%>
								      <tr>
								        <td><%= ac.activity %></td>
								        <td><%= ac.semester%></td>
								        <td><%= ac.starting_date.strftime("%b %d, %Y")%></td>
								        <td><%= ac.ending_date.strftime("%b %d, %Y") %></td>
								      </tr>
								    <% end %>
								  </tbody>
								</table>
		          </div>
	        </div>
       	<%end%>
      </div>
    </div>
    <!-- /.row -->
  </div><!-- /.container-fluid -->
</section>
